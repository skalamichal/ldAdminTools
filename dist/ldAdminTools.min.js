!function(a){"use strict";a.module("ldAdminTools",["ngAnimate","ui.bootstrap","RecursionHelper","LocalStorageModule"]),a.module("ldAdminTools").directive("ldCheckbox",function(){return{template:'<input type="checkbox" ng-change="onChanged()" ng-model="checked">',restrict:"E",scope:{checked:"=?",indeterminate:"=?",onchanged:"&?"},link:function(b,c){b.onChanged=function(){b.indeterminate&&(b.indeterminate=!1,b.checked=!1),a.isDefined(b.onchanged)&&b.onchanged()(b.checked)},b.$watch("indeterminate",function(a){a=!!a,c.find("input").prop("indeterminate",a)})}}}),a.module("ldAdminTools").directive("ldClickableRows",["$compile",function(b){function c(c,d,e){a.forEach(d.find("td"),function(d){var f=a.element(d);0===f.find("input").length&&(f.addClass("ld-clickable").attr("ng-click",e.ldClickableRows),a.isDefined(e.ldClickableRowsActive)&&f.attr("ng-class",e.ldClickableRowsActive),b(f)(c))})}return{restrict:"A",link:c}}]),a.module("ldAdminTools").constant("ldDashboardBoxConfig",{panelTypeDefault:"default"}).directive("ldDashboardBox",["ldDashboardBoxConfig",function(b){return{templateUrl:"partials/lddashboardbox.html",restrict:"E",transclude:!0,replace:!0,scope:{ldIsOpen:"=?",ldTitle:"@",ldType:"@",ldSize:"@?",ldOnClose:"&?",ldOnToggle:"&?"},link:function(c,d){c.panelType=c.ldType||b.panelTypeDefault,c.isBoxOpen=a.isDefined(c.ldIsOpen)?!!c.ldIsOpen:!0,c.close=function(){a.isDefined(c.ldOnClose())&&c.ldOnClose()(),d.remove()},c.toggle=function(){c.ldIsOpen=c.isBoxOpen=!c.isBoxOpen,a.isDefined(c.ldOnToggle())&&c.ldOnToggle()(c.isOpen)}}}}]),a.module("ldAdminTools").directive("ldDashboardBoxGroup",function(){return{templateUrl:"partials/lddashboardboxgroup.html",restrict:"E",transclude:!0,replace:!0,link:function(){}}}),a.module("ldAdminTools").constant("ldDataNavigationConfig",{messageDefault:"{0} of {1}",showPreviousButtonDefault:!0,showNextButtonDefault:!0}).directive("ldDataNavigation",["$location","ldDataNavigationConfig",function(b,c){return{templateUrl:"partials/lddatanavigation.html",restrict:"E",scope:{data:"=",viewUrl:"@",currentId:"=",filter:"@?"},link:function(d){function e(){d.disablePreviousButtonClass=d.currentIndex<=0?"disabled":"",d.disableNextButtonClass=d.currentIndex>=d.data.length-1?"disabled":"";var a=f.replace("{0}",d.currentIndex+1);a=a.replace("{1}",d.data.length),d.message=a}var f=d.message||c.messageDefault;d.disablePreviousButtonClass="",d.disableNextButtonClass="",d.showPreviousButton=d.showPreviousButton||c.showPreviousButtonDefault,d.showNextButton=d.showNextButton||c.showNextButtonDefault,d.currentIndex=d.data.indexOf(d.currentId),d.previousEntry=function(){d.index=d.currentIndex-1},d.nextEntry=function(){d.index=d.currentIndex+1},d.$watch("index",function(c){if(!a.isUndefined(c)){var e=d.viewUrl.replace("{0}",d.data[c]);b.url(e)}}),e()}}}]),a.module("ldAdminTools").directive("ldDropdown",[function(){return{restrict:"EA",scope:{selected:"=?",list:"=",onchanged:"&?"},templateUrl:"partials/lddropdown.html",link:function(b){b.select=function(c){b.selected=c,a.isDefined(b.onchanged)&&a.isDefined(b.onchanged())&&b.onchanged()(c)},a.isUndefined(b.selected)&&a.isDefined(b.list)&&b.list.length>0&&b.select(b.list[0])}}}]),a.module("ldAdminTools").constant("ldExpandableInputConfig",{placeholderDefault:"Enter value...",closeTextDefault:"Close",openIconDefault:"fa-toggle-on",closeIconDefault:"fa-toggle-off",clearIconDefault:"fa-remove",closeOnToggleDefault:!1}).directive("ldExpandableInput",["$parse","$timeout","$animate","ldExpandableInputConfig",function(b,c,d,e){return{templateUrl:"partials/ldexpandableinput.html",restrict:"E",require:"^ngModel",scope:{model:"=ngModel",placeholder:"@?",closeText:"@?",opened:"=?opened",openIcon:"@",closeIcon:"@",clearIcon:"@",onClear:"&?",onOpen:"&?",onClose:"&?"},link:function(b,c){function f(){return b.opened?a.isUndefined(b.closeIcon)?e.closeIconDefault:b.closeIcon:a.isUndefined(b.openIcon)?e.openIconDefault:b.openIcon}function g(){b.iconLeft=f(),b.iconRight=a.isUndefined(b.clearIcon)?e.clearIconDefault:b.clearIcon}d.enabled(!1,c),b.isFocus=!1,b.$watch("placeholder",function(c){b.placeholder=a.isUndefined(c)?e.placeholderDefault:c}),b.$watch("closeText",function(c){b.closeText=a.isDefined(c)?c:e.closeTextDefault}),b.$watch("opened",function(){b.isFocus=b.opened,g()}),b.clear=function(){b.model="",b.isFocus=!0,a.isFunction(b.onClear())&&b.onClear()()},b.open=function(){b.opened=!0,a.isFunction(b.onOpen())&&b.onOpen()()},b.close=function(){b.opened=!1,b.clear(),a.isFunction(b.onClose())&&b.onClose()()},g()}}}]),a.module("ldAdminTools").directive("ldInputFocus",["$parse","$timeout",function(a,b){return{restrict:"A",link:function(c,d,e){var f=e.ldInputFocus,g=a(f);c.$watch(g,function(a){a&&b(function(){d[0].focus()})})}}}]),a.module("ldAdminTools").controller("ldSidebarMenuController",[function(){function b(b){a.forEach(c.menus,function(c,d){d>b&&a.forEach(c,function(a){a.closeMenu()})})}var c=this;this.menus=[],this.registerMenu=function(b){var d=b.level;a.isUndefined(this.menus[d])&&(this.menus[d]=[]),this.menus[d].push(b),b.menuLevelStyle="nav-"+c.getLevelAsString(d)+"-level"},this.openMenu=function(c){a.forEach(this.menus[c.level],function(a){a.$id!==c.$id&&a.closeMenu()},this),b(c.level)},this.getLevelAsString=function(a){return 1===a?"first":2===a?"second":3===a?"third":""}}]).directive("ldSidebarMenu",[function(){return{restrict:"E",scope:{data:"=",options:"=?ldMenuOptions",level:"=?level",opened:"=?"},replace:!0,controller:"ldSidebarMenuController",templateUrl:"partials/ldmenu-wrap.html",link:function(a,b,c,d){a.level=a.level||1,a.menuLevelStyle="nav-"+d.getLevelAsString(a.level)+"-level",a.opened=a.opened||!0}}}]).directive("ldMenu",["RecursionHelper",function(b){return{restrict:"E",scope:{data:"=",level:"="},require:["^ldSidebarMenu","?^ldSubmenuItem"],replace:!0,templateUrl:"partials/ldmenu-wrap.html",compile:function(c){return b.compile(c,function(b,c,d,e){var f=e[0],g=e[1];f.registerMenu(b),a.isDefined(g)&&g.registerMenu(b),b.closeMenu=function(){a.isDefined(g)&&g.closeMenu()}})}}}]).directive("ldMenuItem",[function(){return{restrict:"E",scope:{item:"=data"},templateUrl:"partials/ldmenuitem.html",replace:!0}}]).directive("ldSubmenuItem",[function(){return{restrict:"E",scope:{item:"=data",level:"="},controller:["$scope",function(a){this.registerMenu=function(b){a.menu=b},this.closeMenu=function(){a.collapsed||(a.collapsed=!0)}}],require:"^ldSidebarMenu",templateUrl:"partials/ldsubmenuitem.html",replace:!0,link:function(b,c,d,e){b.collapsed=!0,b.toggle=function(){b.collapsed=!b.collapsed,!b.collapsed&&a.isDefined(b.menu)&&e.openMenu(b.menu)},b.collapsedClass=function(){return b.collapsed?"fa-angle-left":"fa-angle-down"},b.isCollapsed=function(){return b.collapsed}}}}]),a.module("ldAdminTools").constant("ldMessageBoxConfig",{icon:"",spin:!1,message:"enter message",type:"default",opened:!0}).directive("ldMessageBox",["$parse","ldMessageBoxConfig",function(b,c){return{templateUrl:"partials/ldmessagebox.html",restrict:"EA",replace:!0,scope:{message:"@?",spin:"=?",type:"@?",icon:"@?"},link:function(b){b.message=a.isUndefined(b.message)?c.message:b.message,b.spin=b.spin||c.spin,b.icon=a.isUndefined(b.icon)?c.icon:b.icon,b.type=a.isUndefined(b.type)?c.type:b.type}}}]),a.module("ldAdminTools").directive("ldResize",["$window","$parse",function(b,c){return{restrict:"EA",link:function(d,e,f){var g=a.element(b),h=c(f.ldResize),i=h(d);a.isUndefined(i)||(d.size={width:-1,height:-1},d.updateSize=function(){d.size.width=b.innerWidth>0?b.innerWidth:this.screen.width,d.size.height=b.innerHeight>0?b.innerHeight:this.screen.height},d.$watchCollection("size",function(a){i(a.width,a.height)}),g.bind("resize",function(){d.$apply(function(){d.updateSize()})}),d.updateSize())}}}]),a.module("ldAdminTools").controller("ldTableController",["$scope","$parse","$filter","$attrs","ldFilterService",function(b,c,d,e,f){function g(b){return a.isUndefined(b)&&(b=[]),k=j=b.length,[].concat(b)}function h(a){r=g(a),q.filterUpdated()}function i(){var a=1>w?1:Math.ceil(k/w);return Math.max(a||0,1)}this.TABLE_UPDATED="ldTableUpdated";var j,k,l=e.ldTable,m=c(l),n=m.assign,o=a.isDefined(e.ldFilter)?e.ldFilter:"ld-"+Math.round(15e4*Math.random()),p=d("ldPaging"),q=this;a.isUndefined(m(b))&&n(b,[]);var r,s=e.ldTableSource;if(a.isDefined(s)){var t=c(s);r=g(t(b)),n(b,r),f.forceUpdate(o),b.$watch(function(){return t(b)},function(a,b){a!==b&&h(a)},!0)}else r=g(m(b));var u=r,v=1,w=r.length,x=1;b.$on(f.FILTER_UPDATED,a.bind(this,function(a,b){b===o&&this.filterUpdated()})),a.isUndefined(e.ldFilter)&&b.$on("$destroy",function(){f.removeFilter(o)}),this.getFilter=function(){return o},this.setupPaging=function(a,b){w=a,v=b||1,x=i(),this.applyPaging()},this.clearPaging=function(){w=r.length,v=1,x=1,this.applyPaging()},this.setPage=function(a){v!==a&&a>0&&x>=a&&(v=a),this.applyPaging()},this.setSearchFilter=function(b,c){var d=b;a.isDefined(c)&&c.length>0&&(d={},d[c]=b),f.setWhereCondition(o,d)},this.removeSearchFilter=function(a){f.removeWhereCondition(o,a)},this.clearSearchFilter=function(){f.clearWhereFilter(o)},this.setOrderByFilter=function(a,b){f.setOrderByCondition(o,a,b)},this.clearOrderByFilter=function(){f.clearOrderByFilter(o)},this.clearFilters=function(){f.clearWhereFilter(o),f.clearOrderByFilter(o),w=r.length},this.filterUpdated=function(){u=f.applyFilter(o,r),k=u.length,x=i(),v>x&&(v=x),this.applyPaging()},this.applyPaging=function(){var a=u;x>1&&(a=p(a,v,w)),n(b,a),b.$broadcast(this.TABLE_UPDATED)},this.getOrderByFilters=function(){return f.getFilter(o).combined.order},this.getSearchFilters=function(){return f.getFilter(o).combined.where},this.getFilteredRows=function(){return k},this.getTotalRows=function(){return j},this.getCurrentPage=function(){return v},this.getRowsPerPage=function(){return w},this.getTotalPages=function(){return x},this.getRows=function(){return m(b)}}]).directive("ldTable",[function(){return{restrict:"A",controller:"ldTableController",link:function(){}}}]),a.module("ldAdminTools").directive("ldTableCheckbox",function(){return{template:'<ld-checkbox onchanged="updateSelection" indeterminate="isIndeterminate" checked="isChecked"></ld-checkbox>',require:"^ldTable",scope:!0,restrict:"E",link:function(b,c,d,e){function f(b){var c=0;return a.forEach(b,function(a){a.selected&&c++}),c}function g(){a.forEach(e.getRows(),function(a){a.selected=!0})}function h(){a.forEach(e.getRows(),function(a){a.selected=!1})}b.updateSelection=function(a){a?g():h()},b.$on(e.TABLE_UPDATED,function(){var a=e.getRows(),c=f(a);b.isIndeterminate=c>0&&c<a.length,b.isChecked=a.length>0&&c===a.length})}}}),a.module("ldAdminTools").constant("ldTableInfoConfig",{textDefault:"{0} - {1} of {2} Items"}).directive("ldTableInfo",["ldTableInfoConfig",function(a){return{restrict:"EA",require:"^ldTable",templateUrl:"partials/ldtableinfo.html",scope:{text:"@"},link:function(b,c,d,e){function f(){var a=e.getCurrentPage(),c=e.getRowsPerPage(),d=e.getFilteredRows(),f=(a-1)*c+1,h=Math.min(f-1+c,d),i=g.replace("{0}",f);i=i.replace("{1}",h),i=i.replace("{2}",d),b.infoText=i,b.isVisible=d>0}var g=b.text||a.textDefault;b.$watch("text",function(a){g=a,f()}),b.$on(e.TABLE_UPDATED,function(){f()}),f()}}}]),a.module("ldAdminTools").constant("ldTableNavigationConfig",{showPreviousButtonDefault:!0,showNextButtonDefault:!0}).directive("ldTableNavigation",["ldTableNavigationConfig",function(a){return{restrict:"EA",require:"^ldTable",templateUrl:"partials/ldtablenavigation.html",scope:{showPreviousButton:"=?",showNextButton:"=?"},link:function(b,c,d,e){function f(){var a=e.getCurrentPage();b.disablePreviousButtonClass=1>=a?"disabled":"",b.disableNextButtonClass=a>=e.getTotalPages()?"disabled":""}b.disablePreviousButtonClass="",b.disableNextButtonClass="",b.showPreviousButton=b.showPreviousButton||a.showPreviousButtonDefault,b.showNextButton=b.showNextButton||a.showNextButtonDefault,b.$on(e.TABLE_UPDATED,function(){f()}),b.previousPage=function(){e.setPage(e.getCurrentPage()-1)},b.nextPage=function(){e.setPage(e.getCurrentPage()+1)},f()}}}]),a.module("ldAdminTools").constant("ldTableNavigationDropdownConfig",{descriptionDefault:"Page {0} of {1}",firstPageTextDefault:"First Page",lastPageTextDefault:"Last Page",pageTextDefault:"Page {0}",previousPageTextDefault:"Previous Page",nextPageTextDefault:"Next Page"}).directive("ldTableNavigationDropdown",["ldTableNavigationDropdownConfig",function(a){return{restrict:"EA",require:"^ldTable",templateUrl:"partials/ldtablenavigationdropdown.html",scope:{description:"@",firstPageText:"@",lastPageText:"@",pageText:"@",previousPageText:"@",nextPageText:"@"},link:function(b,c,d,e){function f(){var a=e.getTotalPages(),c=e.getCurrentPage();b.firstPageClass=a>1&&c>1?"":"disabled",b.lastPageClass=a>1&&a>c?"":"disabled",b.previousPageClass=c>1?"":"disabled",b.nextPageClass=a>c?"":"disabled";var d=k.replace("{0}",c);d=d.replace("{1}",a),b.descriptionText=d}function g(a,b){var c={page:a,text:j.replace("{0}",a),active:a===b};return c}function h(){var a=e.getCurrentPage(),c=Math.max(a-2,1),d=Math.min(a+2,e.getTotalPages());if(!(e.getTotalPages()<5)){for(var f=[],h=c;d>=h;h++){var i=g(h,a);f.push(i)}b.pages=f}}function i(){b.totalPages=e.getTotalPages(),b.currentPage=e.getCurrentPage(),f(),h()}b.firstPageText=b.firstPageText||a.firstPageTextDefault,b.lastPageText=b.lastPageText||a.lastPageTextDefault,b.previousPageText=b.previousPageText||a.previousPageTextDefault,b.nextPageText=b.nextPageText||a.nextPageTextDefault;var j=b.pageText||a.pageTextDefault,k=b.description||a.descriptionDefault;b.firstPage=b.firstPageText,b.lastPage=b.lastPageText,b.previousPage=b.previousPageText,b.nextPage=b.nextPageText,b.pages=[],b.gotoPage=function(a){e.getCurrentPage()!==a&&e.setPage(a)},b.$on(e.TABLE_UPDATED,function(){i()}),i()}}}]),a.module("ldAdminTools").directive("ldTablePageRows",["$parse",function(a){return{restrict:"A",require:"^ldTable",link:function(b,c,d,e){var f=a(d.ldTablePageRows);b.$watch(f,function(a){e.setupPaging(a,1)})}}}]),a.module("ldAdminTools").directive("ldTablePagination",[function(){return{restrict:"EA",require:"^ldTable",scope:{maxSize:"=?",isVisible:"=?"},templateUrl:"partials/ldtablepagination.html",link:function(a,b,c,d){function e(b){a.currentPage=b,d.getCurrentPage()!==b&&d.setPage(b)}a.totalItems=d.getFilteredRows(),a.itemsPerPage=d.getRowsPerPage(),a.maxSize=a.maxSize||null,a.isVisible=a.isVisible||!0,a.$watch("currentPage",function(a,b){a!==b&&e(a)}),a.$on(d.TABLE_UPDATED,function(){a.totalItems=d.getFilteredRows(),a.itemsPerPage=d.getRowsPerPage(),e(d.getCurrentPage())})}}}]),a.module("ldAdminTools").directive("ldTableSearch",["$timeout","$parse",function(a,b){return{restrict:"A",require:["^ldTable","ngModel"],link:function(c,d,e,f){function g(){null!==h&&a.cancel(h),h=a(function(){i.setSearchFilter(j.$viewValue||"",l),h=null},200)}var h,i=f[0],j=f[1],k=b(e.ldTableSearch),l=k(c);c.$watch(k,function(a,b){a!==b&&(l=a,i.removeSearchFilter(l),i.setSearchFilter(j.$viewValue||"",l))}),c.$watch(function(){return j.$viewValue},g)}}}]),a.module("ldAdminTools").directive("ldTableSort",[function(){return{restrict:"A",require:"^ldTable",link:function(b,c,d,e){function f(){c.removeClass(k).removeClass(l),o===m.ASCENT?c.addClass(k):o===m.DESCENT&&c.addClass(l)}function g(){o===m.NONE?e.clearOrderByFilter():e.setOrderByFilter((o===m.ASCENT?"+":"-")+n,!1)}function h(){o++,o>m.DESCENT&&(o=m.NONE),b.$apply(g)}function i(b){var c=!1,d=!1;a.isDefined(b)&&a.isDefined(b.values)&&a.forEach(b.values,function(a){if(a.indexOf("-")>=0||a.indexOf("+")>=0){var b=a.substr(0,1),e=a.substr(1);d="+"===b?!1:!0,c=e===n}else c=a===n});var e=m.NONE;return c&&(e=d?m.DESCENT:m.ASCENT),e}function j(){var a=e.getOrderByFilters();o=i(a),f()}if(!a.isUndefined(d.ldTableSort)){var k="ld-table-sort-ascent",l="ld-table-sort-descent",m=Object.freeze({NONE:0,ASCENT:1,DESCENT:2}),n=d.ldTableSort,o=m.NONE;a.isDefined(d.ldTableSortDefault)&&(o="reverse"===d.ldTableSortDefault?m.DESCENT:m.ASCENT),b.$on(e.TABLE_UPDATED,j),c.on("click",h),b.$on("$destroy",function(){c.off("click",h)}),a.isDefined(e.getOrderByFilters())&&(o=i(e.getOrderByFilters())),o!==m.NONE&&g()}}}}]),a.module("ldAdminTools").filter("ldFrom",function(){return function(b,c){if(!a.isArray(b))return b;var d=c||0;return b.slice(d)}}),a.module("ldAdminTools").filter("ldPaging",function(){return function(b,c,d){if(!a.isArray(b))return b;var e=(c-1)*d,f=e+d;return b.slice(e,f)}}),a.module("ldAdminTools").filter("ldSelect",["$filter",function(b){function c(b,c){return b.$={},a.forEach(c,function(a){b.$[a]=b[a]}),b}function d(b,d){if(a.isUndefined(d))return b;var e=[];return a.forEach(b,function(b){a.isObject(b)&&e.push(c(b,d))}),e}function e(c,d){if(a.isUndefined(d))return c;var e=b("filter");return e(c,d)}function f(c,d){if(a.isUndefined(d))return c;var e=b("orderBy");return e(c,d.values,d.reverse)}function g(c,d){if(a.isUndefined(d))return c;var e=b("limitTo");return e(c,d)}function h(c,d){if(a.isUndefined(d))return c;var e=b("ldFrom");return e(c,d)}return function(b,c){if(!a.isArray(b)||a.isUndefined(c))return b;var i=e(b,c.where);return i=f(i,c.order),i=h(i,c.from),i=g(i,c.limit),i=d(i,c.values)}}]),a.module("ldAdminTools").constant("ldCacheConfig",{limit:10,useLocalStorage:!0,prefix:"ldCache_"}).service("ldCache",["ldCacheConfig","localStorageService",function(b,c){function d(a){return c.isSupported?c.get(i+a):void 0}function e(a){c.isSupported&&c.remove(i+a)}function f(a,b){c.isSupported&&c.set(i+a,b)}function g(){if(c.isSupported){var b=c.keys();a.forEach(b,function(a){-1!==a.indexOf(i)&&c.remove(a)})}}var h={},i=b.prefix;this.cache=function(a,b){h[a]=b,f(a,b)},this.get=function(b){return a.isUndefined(h[b])&&(h[b]=d(b)),h[b]},this.clear=function(b){a.isDefined(b)&&a.isDefined(h[b])?(delete h[b],e(b)):(g(),h={})}}]),a.module("ldAdminTools").factory("ldFilterService",["$rootScope","$filter","$log","localStorageService",function(b,c,d,e){function f(b,c){return a.isUndefined(c)?b:j(b,c)}function g(a,b){for(var c=0;c<a.length;c++)if(a[c].id===b)return a[c];return null}function h(b){if(!a.isUndefined(b)){var c="ldSelect ";a.isDefined(b.values)&&(c+="values(",a.isString(b.values)?c+=b.values:a.isArray(b.values)&&(c+=b.values.toString()),c+=") "),a.isDefined(b.where)&&(c+="where (",a.forEach(b.where,function(a,b){c+=b+" = "+a+" "}),c+=") "),a.isDefined(b.order)&&a.isDefined(b.order.values)&&a.isDefined(b.order.reverse)&&(c+="order by (",c+=b.order.values.toString(),c+=b.order.reverse?") desc ":") asc "),d.debug(c)}}function i(b){var c=a.isDefined(b.preset)?a.copy(b.preset):{},d=b.data;a.isDefined(d)&&(a.isDefined(d.where)&&(c.where=a.isDefined(c.where)?a.extend(c.where,d.where):d.where),a.isDefined(d.order)&&(c.order=d.order)),h(c),b.combined=c}var j=c("ldSelect"),k={};return{FILTER_REMOVED:"ldFilterRemoved",FILTER_UPDATED:"ldFilterUpdated",getFilter:function(b){var c=k[b];return a.isUndefined(c)&&(c={dirty:!1,data:{},combined:{},presets:[],preset:void 0},k[b]=c),c},removeFilter:function(a){delete k[a],b.$broadcast(this.FILTER_REMOVED,a)},registerPresets:function(a,b){var c=this.getFilter(a);c.presets=b},setPreset:function(c,d){var e=this.getFilter(c);if(a.isUndefined(e.presets))return null;var f=g(e.presets,d);return null===f?null:(e.preset=f,e.dirty=!0,i(e),void b.$broadcast(this.FILTER_UPDATED,c,e))},getPreset:function(a){var b=this.getFilter(a);return b.preset},clearPreset:function(c){var d=this.getFilter(c);a.isUndefined(d)||(d.preset=void 0,d.dirty=!0,i(d),b.$broadcast(this.FILTER_UPDATED,c,d))},setDefaultPreset:function(c){var d=this.getFilter(c);if(!a.isUndefined(d.presets)){for(var e=d.presets,f=0;f<e.length;f++)if(e[f].default){console.log(e[f]),d.preset=e[f],d.dirty=!0;break}i(d),b.$broadcast(this.FILTER_UPDATED,c,d)}},applyFilter:function(b,c){if(!a.isArray(c))return c;var d=this.getFilter(b);if(!d.dirty)return c;var e=f(c,d.combined);return d.dirty=!1,e},cleanUpWhereConditions:function(b){var c=[];return a.forEach(b,function(b,d){(a.isUndefined(b)||0===b.length)&&c.push(d)}),a.forEach(c,function(a){delete b[a]}),b},setWhereCondition:function(c,d){var e=this.getFilter(c),f=e.data.where;a.isUndefined(f)&&(f={}),a.isString(d)?f=a.extend(f,{$:d}):a.isObject(d)&&(f=a.extend(f,d)),f=this.cleanUpWhereConditions(f),e.dirty=!0,e.data.where=f,i(e),b.$broadcast(this.FILTER_UPDATED,c,e)},removeWhereCondition:function(c,d){var e=this.getFilter(c),f=e.data.where;a.isUndefined(f)||(a.isString(d)?delete f[d]:a.isArray(d)&&a.forEach(d,function(a){delete f[a]}),e.dirty=!0,e.data.where=f,i(e),b.$broadcast(this.FILTER_UPDATED,c,e))},clearWhereFilter:function(a){var c=this.getFilter(a);delete c.data.where,c.dirty=!0,i(c),b.$broadcast(this.FILTER_UPDATED,a,c)},setOrderByCondition:function(c,d,e){var f,g=this.getFilter(c),h=!!e;a.isString(d)?f={values:[d],reverse:h}:a.isArray(d)&&(f={values:d,reverse:h}),g.dirty=!0,g.data.order=f,i(g),b.$broadcast(this.FILTER_UPDATED,c,g)},clearOrderByFilter:function(a){var c=this.getFilter(a);delete c.data.order,c.dirty=!0,i(c),b.$broadcast(this.FILTER_UPDATED,a,c)},forceUpdate:function(a){var c=this.getFilter(a);c.dirty=!0,b.$broadcast(this.FILTER_UPDATED,a,c)},forceUpdateAll:function(){a.forEach(k,function(a,c){a.dirty=!0,b.$broadcast(this.FILTER_UPDATED,c,a)},this)},setDirty:function(a){this.getFilter(a).dirty=!0},isDirty:function(a){return!!this.getFilter(a).dirty},storeFilters:function(){if(e.isSupported){var b={};a.forEach(k,function(a,c){b[c]={preset:a.preset,data:a.data}}),e.set("filters",a.toJson(b))}},loadFilters:function(){if(e.isSupported){var b=a.fromJson(e.get("filters"));a.isDefined(b)&&null===b&&(b={}),a.forEach(b,function(a,b){k[b].preset=a.preset,k[b].data=a.data,i(k[b]),k[b].dirty=!0})}},toString:function(b){var c=this.getFilter(b);a.isUndefined(c)||h(c.combined)}}}]),a.module("ldAdminTools").service("ldMessageBox",["$document","$rootScope","$compile",function(b,c,d){var e,f="ld-message-box-on",g=b.find("body").eq(0);this.show=function(b,h,i,j){a.isDefined(e)&&this.hide();var k=a.element("<ld-message-box></ld-message-box>");k.attr({message:b,type:h,icon:i,spin:j});var l=c.$new();e=d(k)(l),g.append(e),g.addClass(f)},this.hide=function(){g.removeClass(f),e.remove()}}]),a.module("ldAdminTools").run(["$templateCache",function(a){a.put("partials/lddashboardbox.html",'<div class="panel panel-{{ panelType }}" ng-class=ldSize><div class="panel-heading ld-panel-heading clearfix"><h4 class="panel-title ld-panel-title pull-left">{{ ldTitle }}</h4><div class="btn-group pull-right" dropdown><button class="btn btn-xs btn-{{ panelType }}" ng-click=toggle()><i class="fa fa-fw fa-minus"></i></button> <button class="btn btn-xs btn-{{ panelType }}" ng-click=close()><i class="fa fa-fw fa-close"></i></button> <button class="btn btn-xs btn-{{ panelType }} dropdown-toggle" role=button><span class=caret></span></button><ul class=dropdown-menu role=menu><li><a href="" ng-click=options()>Options</a></li></ul></div></div><div class=panel-collapse collapse=!isBoxOpen><div class=panel-body ng-transclude></div></div></div>'),a.put("partials/lddashboardboxgroup.html","<div class=ld-panel-group ng-transclude></div>"),a.put("partials/lddatanavigation.html",'<div class=ld-data-navigation>{{ filter }}: {{ message }} <a href="" class="btn btn-link ld-data-navigation-btn" ng-if=showPreviousButton ng-class=disablePreviousButtonClass ng-click=previousEntry()><i class="fa fa-fw fa-chevron-left fa-lg"></i></a> <a href="" class="btn btn-link ld-data-navigation-btn" ng-if=showNextButton ng-class=disableNextButtonClass ng-click=nextEntry()><i class="fa fa-fw fa-chevron-right fa-lg"></i></a></div>'),a.put("partials/lddropdown.html",'<div class=ld-dropdown dropdown><a style=cursor:pointer dropdown-toggle role=button>{{ selected.name }} <i class="fa fa-caret-down"></i></a><ul class=dropdown-menu><li ng-repeat="item in list" ng-class="{\'divider\' : item.divider}"><a ng-if=!item.divider ng-click=select(item);>{{ item.name }}</a></li></ul></div>'),a.put("partials/ldexpandableinput.html",'<div class=ld-expandable-input><div class=ld-input-group><span class=ld-input-group-btn ng-class="{\'relative\' : !opened}" ng-style="{cursor: opened ? \'context-menu\': \'pointer\'}" ng-if="iconLeft.length>0" ng-click=open()><i class="fa fa-fw {{ iconLeft }} fa-lg"></i></span> <input class="form-control ld-form-control" ng-model=model placeholder="{{ placeholder }}" ng-show=opened ld-input-focus=isFocus ng-blur="isFocus=false"> <span class=ld-input-group-btn ng-if="iconRight.length>0" ng-show="model && opened" ng-click=clear()><i class="fa fa-fw {{ iconRight }} fa-lg"></i></span></div><div ng-if=opened class=ld-expandable-close><a href="" ng-click=close()>{{ closeText }}</a></div></div>'),a.put("partials/ldmenu-wrap.html",'<ul class=nav ng-class=menuLevelStyle><li ng-repeat="item in data"><ld-menu-item ng-if=!item.submenu data=item ng-click="opened = !opened"></ld-menu-item><ld-submenu-item ng-if=item.submenu data=item level=level></ld-submenu-item></li></ul>'),a.put("partials/ldmenuitem.html",'<a class=ld-menuitem ng-href={{item.url}}><i ng-if="item.icon.length > 0" class="fa fa-fw {{item.icon}}"></i> {{ item.text }} <span class=badge ng-if="item.badge && item.badge() > 0">{{ item.badge() }}</span></a>'),a.put("partials/ldmessagebox.html","<div class=ld-message-box><div class=\"ld-message-box-content ld-message-box-{{ type }}\"><i class=\"{{ icon }}\" ng-class=\"{'fa': icon, 'fa-fw': icon, 'fa-lg': icon, 'fa-spin': spin}\"></i> {{ message }}</div></div>"),a.put("partials/ldsubmenuitem.html",'<div><a class=ld-menuitem ng-href={{item.url}} ng-click=toggle()><i ng-if="item.icon.length > 0" class="fa fa-fw {{item.icon}}"></i> {{ item.text }} <span class=badge ng-if="item.badge && item.badge() > 0">{{ item.badge() }}</span> <span class="fa ld-right" ng-class=collapsedClass()></span></a><ld-menu collapse=isCollapsed() data=item.submenu level="level + 1"></ld-menu></div>'),a.put("partials/ldtableinfo.html","<span class=ld-table-info ng-if=isVisible>{{ infoText }}</span>"),a.put("partials/ldtablenavigation.html",'<div class=ld-table-navigation><a href="" class="btn btn-link ld-table-navigation-btn" ng-if=showPreviousButton ng-class=disablePreviousButtonClass ng-click=previousPage()><i class="fa fa-fw fa-chevron-left fa-lg"></i></a> <a href="" class="btn btn-link ld-table-navigation-btn" ng-if=showNextButton ng-class=disableNextButtonClass ng-click=nextPage()><i class="fa fa-fw fa-chevron-right fa-lg"></i></a></div>'),a.put("partials/ldtablenavigationdropdown.html",'<div class=ld-table-navigation-dropdown dropdown><a href="" dropdown-toggle style=cursor:pointer role=button>{{ descriptionText }} <i class="fa fa-fw fa-caret-down"></i></a><ul class="dropdown-menu dropdown-menu-right"><li ng-class=firstPageClass><a href="" ng-click=gotoPage(1)><i class="fa fa-fw fa-angle-double-left fa-lg"></i>{{ firstPage }}</a></li><li ng-class=previousPageClass><a href="" ng-click="gotoPage(currentPage - 1)"><i class="fa fa-fw fa-angle-left fa-lg"></i>{{ previousPage }}</a></li><li ng-repeat="page in pages" ng-class="page.active ? \'divider\' : \'\'"><a href="" ng-if=!page.active ng-click=gotoPage(page.page)><i class="fa fa-fw fa-lg" ng-class="page.active ? \'fa-caret-right\' : \'\'"></i>{{ page.text }}</a></li><li ng-class=nextPageClass><a href="" ng-click="gotoPage(currentPage + 1)"><i class="fa fa-fw fa-angle-right fa-lg"></i>{{ nextPage }}</a></li><li ng-class=lastPageClass><a href="" ng-click=gotoPage(totalPages)><i class="fa fa-fw fa-angle-double-right fa-lg"></i>{{ lastPage }}</a></li></ul></div>'),a.put("partials/ldtablepagination.html",'<div class=ld-table-pagination><pagination class=ld-pagination ng-show="__numPages > 1 && isVisible" num-pages=__numPages ng-model=currentPage max-size=maxSize total-items=totalItems items-per-page=itemsPerPage boundary-links=true previous-text=&lsaquo; next-text=&rsaquo; first-text=&laquo; last-text=&raquo;></pagination></div>')}])}(angular);
//# sourceMappingURL=ldAdminTools.min.map