!function(a){"use strict";a.module("ldAdminTools",["ui.bootstrap"]),a.module("ldAdminTools").directive("ldMenu",[function(){return{restrict:"EA",scope:{level:"=?",data:"=",isCollapsed:"=?collapsed",menuTemplate:"=?",options:"=?ldMenuOptions"},require:"?^ldMenu",controller:[function(){this.getLevelAsString=function(a){return 1===a?"first":2===a?"second":3===a?"third":""}}],template:'<ng-include src="getTemplate()"></ng-include>',link:function(a,b,c,d){a.level=a.level||1,a.menuLevelStyle="nav-"+d.getLevelAsString(a.level)+"-level",a.menuTemplate=a.menuTemplate||"partials/ldmenu.html",a.getTemplate=function(){return a.menuTemplate}}}}]),a.module("ldAdminTools").directive("ldResize",["$window",function(b){return{restrict:"EA",scope:{ldOnResize:"&"},link:function(c){var d=a.element(b),e=c.ldOnResize();c.size={width:-1,height:-1},c.updateSize=function(){c.size.width=b.innerWidth>0?b.innerWidth:this.screen.width,c.size.height=b.innerHeight>0?b.innerHeight:this.screen.height},c.$watchCollection("size",function(a){e(a.width,a.height)}),d.bind("resize",function(){c.$apply(function(){c.updateSize()})}),c.updateSize()}}}]),a.module("ldAdminTools").controller("ldSlideLeftController",["$scope","$transition","$attrs","$parse",function(b,c,d,e){function f(a){function b(){j===d&&(j=void 0)}var d=c(m.$element,a);return j&&j.cancel(),j=d,d.then(b,b),d}function g(){m.$element.css("left","0px"),m.$element.removeClass("ld-sliding-left"),m.$element.addClass("ld-slide in")}function h(){m.$element.css("left","-"+n.width+"px"),m.$element.removeClass("ld-sliding-left in"),m.$element.addClass("ld-slide")}function i(){n.isOpen?m.expand():m.slide()}var j,k,l,m=this,n=b.$new(),o=a.noop,p=e(d.ldSlideLeft),q=p.assign,r=a.noop;n.initialAnimSkip=!0,n.isAnimated=!0,n.isCloseable=!1,n.isOpen=!0,this.init=function(a){m.$element=a,n.width=m.$element[0].offsetWidth,d.ldAnimated&&(k=e(d.ldAnimated),o=k.assign,b.$watch(k,function(a){n.isAnimated=!!a})),d.ldCloseable&&(l=e(d.ldCloseable),r=l.assign,b.$watch(l,function(a){n.isCloseable=!!a})),b.$watch(d.ldSlideLeft,function(a){n.isOpen=!!a})},this.toggle=function(a){n.isOpen=arguments.length?!!a:!n.isOpen,q(b,n.isOpen)},this.expand=function(){!n.isAnimated||n.initialAnimSkip?(n.initialAnimSkip=!1,g()):(m.$element.removeClass("ld-slide").addClass("ld-sliding-left"),f({left:"0px"}).then(g))},this.slide=function(){if(n.initialAnimSkip||!n.isAnimated)n.initialAnimSkip=!1,h(),m.$element.css({left:-n.width+"px"});else{m.$element.css({left:"0px"});{m.$element[0].offsetLeft}m.$element.removeClass("ld-slide in").addClass("ld-sliding-left"),f({left:-n.width+"px"}).then(h)}},n.$watch("isOpen",function(a){n.isCloseable||a||(n.isOpen=!0,q(b,n.isOpen)),i()}),n.$watch("isCloseable",function(a){a||n.isOpen||(n.isOpen=!0,q(b,n.isOpen)),i()})}]).directive("ldSlideLeft",[function(){return{restrict:"A",controller:"ldSlideLeftController",link:function(a,b,c,d){d.init(b)}}}]).directive("ldSlideToggle",[function(){return{require:"?^ldSlideLeft",link:function(b,c,d,e){function f(){b.$apply(function(){e.toggle()})}e&&b.$watch(d.ldSlideToggle,function(d){a.isDefined(d)&&0!==d.length||(c.on("click",f),b.$on("$destroy",function(){c.off("click",f())}))})}}}]),a.module("ldAdminTools").run(["$templateCache",function(a){a.put("partials/ldmenu.html",'<ul class=nav ng-class=menuLevelStyle><li ng-repeat="item in data" ng-init="isCollapsed=true"><a ld-menuitem ng-href={{item.url}} ng-click="isCollapsed = !isCollapsed" ld-slide-toggle=item.submenu><i ng-if="item.icon.length > 0" class="fa fa-fw {{item.icon}}"></i> {{ item.text }} <span class=badge ng-if="item.badge && item.badge() > 0">{{ item.badge() }}</span> <span ng-if=item.submenu class="fa ld-right" ng-class="isCollapsed? \'fa-angle-left\' : \'fa-angle-down\'"></span></a><div ng-if=item.submenu><div ld-menu collapse=isCollapsed data=item.submenu level="level + 1"></div></div></li></ul>')}])}(angular);
//# sourceMappingURL=ldAdminTools.min.map